# Incedents Counter

Демо проект по расчету инцедентов из CSV-файла.


# Запуск в Docker Compose

Программа разрабатывалась и работает под управлением оркестратора **Docker Compose**. 
Ниже описаны инструкции по подготовке и запуску программы в этой среде:

1. **Настроить директории с данными**. Открыть файл `docker-compose.yml`, найти 
поля `volumes` (2 поля в файле), исправить строки, помеченные комментарием `# data directory`. 
Формат: `<host_machine dir>:<container dir>`. Значения в этих строках д.б. одинаковыми. 
1. **Настроить параметры запуска программы** (опционально). В файле `docker-compose.yml` 
найти и исправить поле `services` -> `ic` -> `command`. Параметры запуска см. ниже (в 
отдельном разделе).
1. **Сгенерировать данные** (опционально). Проводится с помощью встроенного генератора данных.
Команда, запускающая генератор:`docker-compose up dg`. После окончания работы генератора 
появится файл `incedents.csv` со случайно сгенерированными данными. Он появится в директории, 
которая указана в `docker-compose.yml` файле в поле: `services` -> `dg` -> `volumes`, строке, 
помещенной комментарием: `# data directory`.
1. **Запустить программу**. Команда запуска: `docker-compose up ic`. По завершении работы программы, 
появится файл `counts.csv`, рядом с файлом `incedents.csv`.



# Параметры запуска программы

Программа принимает несколько параметров на вход их перечень представлен в таблице:

|         Ключ        |                     Описание                    |              Пример              |
|:-------------------:|:-----------------------------------------------:|:--------------------------------:|
| -inf, --input_file  | Файл CSV, содержащий входные данные             | --input_file=/data/incedents.csv |
| -otf, --output_file | Файл CSV, содержащий результат работы программы | --output_file=/data/counts.csv   |
| -dt,  --delta_time  | Разница времени                                 | -dt=0.3                          |

> Обратите внимание! Каждый из ключей имеет полный и короткий вариант представления. 
Программе надо указать один из двух вариентов.